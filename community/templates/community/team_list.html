<!-- http://127.0.0.1:8000/community -->
<link rel="stylesheet" href="../../static/community/css/community.css"/>
<link rel="stylesheet" href="../../static/community/css/teamlist.css"/>

{% extends 'community/base.html' %}


{% block main_area %}
    <div class="activity_title"><h1>팀 모집 게시판</h1></div>
    <hr>

    <br><br>

    <button id="createPostBtn">팀원 모집 글쓰기</button>

    {% if team_list.exists %}
        <table class="list_table">
            <thead>
            <tr>
                <th>번호</th>
                <th>제목</th>
                <th>작성날짜</th>
            </tr>
            </thead>
            <tbody>
            {% for team in team_list %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td><a href="{% url 'community:team_detail' team.id %}">{{ team.title }}</a></td>
                    <td>{{ team.time|date:"Y-m-d"  }}</td>
                </tr>
                <tr>
                    <td colspan="3">
                        <hr>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    {% else %}
        <h1>아직 팀 게시글이 없습니다.</h1>
    {% endif %}


<!-- 스크립트 코드 -->
    <script>
          document.addEventListener('DOMContentLoaded', function () {

            var filterItems = document.querySelectorAll('.choose_one li');

            filterItems.forEach(function (item) {
                item.addEventListener('click', function () {
                    var filterValue = item.getAttribute('data-filter');

                    console.log('Selected filter:', filterValue);

                    applyFilter(filterValue);
                });
            });

            function applyFilter(filter) {
                // 이 부분에서 실제 필터링을 구현
                // filter 값에 따라 적절한 처리를 수행
                var tableRows = document.querySelectorAll('.list_table tbody tr');

                tableRows.forEach(function (row) {
                    var dataFilter = row.getAttribute('data-filter');

                    // 모든 행을 숨김
                    row.style.display = 'none';

                    // 선택된 필터와 일치하는 경우 해당 행을 보여줌
                    if (filter === 'all' || (filter === 'isduksung' && dataFilter === 'True') || (filter === 'notIsduksung' && dataFilter === 'False')) {
                        row.style.display = 'table-row';
                    }
                });
            }
        });
    </script>
<!-- 스크립트 코드 종료 -->

{% endblock %}



